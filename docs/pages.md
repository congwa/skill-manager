# Skills Manager - 页面功能清单

> 基于 PRD v1.0.0 梳理，仅列出每个页面的功能点，不涉及布局设计。

---

## 1. 首次引导页

- 欢迎介绍（产品功能简述）
- 确认/自定义本地 Skill 库路径（默认 `~/.skills-manager/skills/`）
- 导入第一个项目（选择项目目录）
- 自动扫描展示发现的工具和 Skill
- （可选）配置 GitHub / Gitee 远程仓库
- （可选）将扫描到的 Skill 导入本地 Skill 库和数据库
- 完成引导，进入主界面

---

## 2. 项目列表页（项目仪表盘）

- 展示所有已导入项目的卡片/列表
- 每个项目显示：名称、路径、检测到的工具图标、Skill 总数、最近修改时间、同步状态标识
- 「添加项目」按钮（支持选择目录 + 拖拽导入）
- 批量导入多个项目
- 删除项目（从管理中移除）
- 项目搜索/筛选
- 点击项目进入项目详情

---

## 3. 项目详情页

- 项目基本信息（名称、路径、最后扫描时间）
- 按工具分组展示该项目下的所有 Skill
  - 每个工具分组显示：工具名、Skill 数量
  - 每个 Skill 条目显示：名称、版本、一致性状态（synced / diverged / missing）
- 「重新扫描」按钮
- 「部署 Skill 到此项目」按钮（从本地 Skill 库中选择 Skill + 选择工具）
- 「一致性检查」按钮（检查该项目所有部署是否与本地 Skill 库一致）
- 点击 Skill 进入 Skill 详情页

---

## 4. Skill 列表页（多视图）

提供 4 种视图模式切换：

### 4a. 按工具分组视图

- 一级分类：工具（Windsurf / Cursor / Claude Code / Codex / Trae）
- 二级列表：该工具下所有 Skill（含全局 + 各项目）
- 每个 Skill 显示：名称、版本、所属项目（或"全局"）、一致性状态

### 4b. 按项目分组视图

- 一级分类：项目名
- 二级列表：该项目下各工具的 Skill
- 每个 Skill 显示：名称、版本、工具名、一致性状态

### 4c. 全局汇总视图

- 去重展示所有 Skill
- 每个 Skill 显示：名称、版本、来源类型、部署位置数量、偏离数量
- 展开可看到具体部署位置列表（项目+工具）

### 4d. 全局 Skill 视图

- 仅展示全局目录中部署的 Skill
- 按工具分组
- 每个 Skill 显示：名称、版本、工具名、一致性状态

**通用功能**：
- Skill 搜索/筛选（按名称、来源、状态）
- 排序（名称、最近修改时间、部署数量）
- 点击 Skill 进入详情页

---

## 5. Skill 详情页

- **基本信息**：名称、描述、版本、来源（本地/skills.sh/GitHub/Gitee + URL）
- **本地 Skill 库状态**：本地路径、checksum、最后修改时间
- **SKILL.md 内容预览**：Markdown 渲染展示
- **文件列表**：Skill 包含的所有文件和目录
- **部署位置列表**：展示所有已部署的 项目+工具 组合，每条显示路径、一致性状态、最后同步时间
- **操作按钮**：
  - 「部署到新位置」（选择项目+工具）
  - 「同步到所有部署」（将本地 Skill 库版本推送到所有已部署位置）
  - 「编辑」（进入编辑页）
  - 「在外部编辑器中打开」
  - 「检查更新」（如来源是 skills.sh / Git）
  - 「删除 Skill」（含确认：仅删除部署 / 完全删除）
  - 「版本回滚」（从备份中恢复）
- **备份历史列表**：展示该 Skill 的所有历史备份，支持查看和恢复

---

## 6. Skill 编辑页

- SKILL.md 内容编辑器（Markdown 编辑 + 实时预览）
- frontmatter 字段编辑（name、description、version）
- 保存后自动标记为「已修改」
- 保存时提示：是否同步部署到所有已部署位置
- 保存前自动备份旧版本

---

## 7. skills.sh 仓库浏览页

- 排行榜（Leaderboard）展示
- 分类浏览
- 搜索功能（按名称、描述）
- 每个 Skill 展示：名称、描述、安装量、评分、兼容工具列表
- 本地已安装标识（数据库中已存在的 Skill 显示「已安装」标签 + 版本对比）
- 点击 Skill 查看详情 + 「安装」按钮

---

## 8. Skill 安装向导（弹窗/抽屉）

- **步骤 1**：展示 Skill 信息（名称、描述、来源）
- **步骤 2**：选择目标工具（多选：Windsurf / Cursor / Claude Code / Codex / Trae）
- **步骤 3**：选择安装范围
  - 项目级：选择具体项目
  - 全局级：安装到工具全局目录
- **步骤 4**：冲突检测 + 预览
  - 如本地已有同名 Skill：展示冲突信息和操作选项
  - 如目标目录已有同名 Skill：展示 Diff
- **步骤 5**：确认安装
- 安装结果展示

---

## 9. Git 仓库导入页

- 输入 GitHub / Gitee 仓库 URL
- 克隆进度展示
- 扫描结果：仓库中的 Skill 列表
  - 每个 Skill 显示：名称、状态（新增 / 已存在一致 / 冲突）
- 冲突处理：
  - 冲突 Skill 展示双栏 Diff 对比（仓库版本 vs 本地版本）
  - 操作选项：覆盖本地 / 保留本地 / 合并 / 两者都保留
- 选择要导入的 Skill（全选 / 选择性导入）
- 导入后选择部署目标（项目+工具）
- 导入结果展示

---

## 10. 同步中心页

- **概览统计**：
  - 远程仓库连接状态
  - 最近同步/导出时间
  - 待处理变更数量
  - 偏离部署数量
- **变更事件列表**：
  - 每条显示：Skill 名称、项目、工具、变更类型（修改/新增/删除）、时间
  - 处理状态：待处理 / 已处理 / 已忽略
  - 操作按钮：更新本地 Skill 库 / 更新+同步所有部署 / 查看 Diff / 忽略
- **一致性报告**：
  - 偏离列表：数据库记录与磁盘文件不一致的项
  - 丢失列表：数据库有记录但磁盘无文件
  - 未追踪列表：磁盘有文件但数据库无记录
  - 每项可操作：修正 / 重新部署 / 删除记录 / 导入
- **操作按钮**：
  - 「执行一致性检查」
  - 「同步到所有位置」（选定 Skill）
  - 「备份导出到 Git」
  - 「从 Git 恢复」

---

## 11. Diff 对比 / 冲突解决页（弹窗/全屏）

- 双栏 Diff 对比（左：版本 A，右：版本 B）
- 三向合并编辑器（原始版本 / 本地修改版 / 新版本）
- 逐文件展示差异（SKILL.md + scripts/ + resources/ 等）
- 操作选项：
  - 选择版本 A / 版本 B
  - 手动合并编辑
  - 跳过 / 忽略

---

## 12. 更新管理页

- **可更新列表**：
  - 来源：skills.sh 有新版本的 Skill
  - 来源：Git 仓库有新 commit 的 Skill
  - 每条显示：Skill 名称、当前版本、最新版本、来源、本地是否有修改
- **更新操作**：
  - 更新范围选择：全项目全工具 / 特定项目 / 特定工具 / 仅本地 Skill 库
  - 本地已修改的 Skill 更新时：展示三方 Diff，支持合并
  - 更新前自动备份旧版本
- **更新历史**：最近的更新操作记录
- **更新设置**：检测频率（启动时 / 每小时 / 每日 / 手动）

---

## 13. 设置页

- **通用设置**：语言、主题（亮色/暗色/跟随系统）、启动行为
- **本地 Skill 库**：自定义路径（默认 `~/.skills-manager/skills/`）
- **Git 仓库配置**：
  - GitHub / Gitee 仓库地址
  - 认证方式（SSH Key / HTTPS Token）
  - 导出分支
  - 连接测试按钮
- **同步设置**：
  - 自动导出频率（手动 / 每日 / 变更时）
  - 变更通知开关
- **更新设置**：
  - 更新检测频率（启动时 / 每小时 / 每日 / 手动）
  - 自动更新开关
- **工具检测**：
  - 手动配置各工具目录路径（用于非标准安装路径）
  - 各工具全局 Skill 目录路径
- **数据管理**：
  - 数据库路径
  - 备份目录路径
  - 清理历史记录（sync_history / change_events 保留天数）
  - 导出数据库 / 导入数据库

---

## 页面总览

| # | 页面 | 核心职责 |
|---|------|---------|
| 1 | 首次引导页 | 初始化配置、导入首个项目 |
| 2 | 项目列表页 | 管理已导入项目 |
| 3 | 项目详情页 | 查看项目下各工具的 Skill 部署情况 |
| 4 | Skill 列表页 | 多视图浏览所有 Skill |
| 5 | Skill 详情页 | 查看 Skill 完整信息和部署位置 |
| 6 | Skill 编辑页 | 编辑 SKILL.md 内容 |
| 7 | skills.sh 仓库浏览页 | 在线 Skill 商店 |
| 8 | Skill 安装向导 | 引导式安装 Skill |
| 9 | Git 仓库导入页 | 从 Git 导入 Skill |
| 10 | 同步中心页 | 变更管理、一致性报告、备份导出 |
| 11 | Diff 对比/冲突解决页 | 版本对比与合并 |
| 12 | 更新管理页 | 检测和执行 Skill 更新 |
| 13 | 设置页 | 应用配置 |
