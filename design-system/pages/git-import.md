# Git 仓库导入页 (Git Import)

> **路由**: `/import`
> **侧边栏高亮**: 仓库（或同步）
> **继承**: MASTER.md 全部规范

---

## 页面概述

从 GitHub / Gitee 仓库导入 Skill 的完整流程页面。包含仓库 URL 输入、克隆进度、扫描结果、冲突处理和部署目标选择。流程较长，使用分步面板而非弹窗。

---

## 区域划分

### Step 1: 输入仓库地址

**内容**：
- 标题（H1）："从 Git 仓库导入 Skill"
- 平台快捷切换：`@shadcn/tabs` 或 `@shadcn/button-group` GitHub / Gitee（带品牌图标）
- `@shadcn/input` URL 输入框（`rounded-pill`，大尺寸）
  - placeholder："输入仓库地址，如 github.com/user/skills"
  - 自动检测平台并切换图标
- 认证方式选择（`@shadcn/radio-group`，如尚未配置）：SSH / Token
- 「开始导入」Primary Clay 按钮

**动画**：
- 页面入场：fadeInUp
- 平台切换：标签下方 `layoutId` 指示条

---

### Step 2: 克隆进度

点击「开始导入」后，URL 输入区域渐隐，替换为进度界面：

**内容**：
- 标题（H2）："正在克隆仓库..."
- 卡通插画：小猫咪搬运箱子（居中，小尺寸）
- `@shadcn/progress` 软糯进度条（`rounded-pill`，蜜桃粉渐变填充）
- 进度百分比（H3，GSAP 数字滚动）
- 实时状态文案（Caption）：
  - "正在连接远程仓库..."
  - "正在接收数据 (2.3 MB / 5.1 MB)..."
  - "正在解压文件..."
  - "正在扫描 Skill..."

**异步操作**：
| 操作 | 加载方式 |
|------|---------|
| Git clone | 全屏进度（5s ~ 60s），GSAP 进度条动画 |
| 扫描仓库中的 Skill | 进度条继续 + 文案切换 |

---

### Step 3: 扫描结果 + 冲突处理

克隆完成后，进度界面渐隐，替换为结果界面：

**内容**：
- 标题（H2）："发现 N 个 Skill"
- 统计摘要行：`M 个新增 · K 个已存在 · J 个冲突`（彩色文字）
- Skill 列表（每行一个 Skill）：

| 列 | 内容 | 样式 |
|----|------|------|
| 勾选框 | 默认全选新增，冲突项默认不选 | `@shadcn/checkbox` |
| Skill 名称 | 名称 | H3 |
| 状态 | 新增 / 已存在(一致) / 冲突 | Badge（薄荷绿/天空蓝/蜂蜜橙） |
| 操作 | 冲突项：[选择...] 下拉 | Outline 按钮 |

**冲突项展开**：
- 点击「选择...」或展开箭头
- 显示双栏 Diff 预览摘要（仓库版本 vs 本地版本）
- 操作选项（`@shadcn/radio-group`）：
  - 用仓库版本覆盖本地
  - 保留本地版本（跳过）
  - 打开完整 Diff（跳转 diff-viewer）
  - 两者都保留（仓库版本重命名导入）
- 展开使用高度动画 + fadeInUp

**批量操作**：
- 顶部「全选新增」/「全选所有」/「取消全选」
- 「开始导入选中的 Skill」Primary Clay

**动画**：
- 列表 stagger 渐入（0.06s 间隔）
- 冲突项左侧显示蜂蜜橙色条（3px）

**异步操作**：
| 操作 | 加载方式 |
|------|---------|
| 与本地数据库对比 | 逐项对比动画，状态 Badge 依次弹入（1s ~ 5s） |

---

### Step 4: 选择部署目标

导入完成后，询问是否立即部署：

**内容**：
- 标题（H2）："导入完成！是否立即部署？"
- 已导入的 Skill 列表
- 每个 Skill 可单独选择部署到：哪些项目 + 哪些工具
- 或「稍后部署」Ghost 按钮跳过
- 「开始部署」Primary Clay

**异步操作**：
| 操作 | 加载方式 |
|------|---------|
| 写入本地 Skill 库 + 数据库 | `@shadcn/progress` + 逐项 ✓（1s ~ 10s） |
| 部署到选定位置 | `@shadcn/progress` + 逐项 ✓（1s ~ 10s） |

---

## 导入完成

- 成功界面：小猫咪庆祝插画 + "导入完成！"
- 摘要：导入了 N 个 Skill，部署到了 M 个位置
- 「查看 Skill 列表」Primary + 「关闭」Ghost

---

## 错误处理

| 错误类型 | UI 展示 |
|---------|---------|
| 仓库 URL 无效 | 输入框红色边框 + 错误提示 |
| 克隆失败（网络/认证） | 进度区替换为错误界面 + 小猫咪趴桌 + 错误信息 + 「重试」按钮 |
| 部分 Skill 导入失败 | 失败项标红 + 错误原因（Caption） |